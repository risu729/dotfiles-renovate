{
	// ref: https://docs.renovatebot.com/configuration-options/
	$schema: "https://docs.renovatebot.com/renovate-schema.json",
	extends: [
		"config:best-practices",
		":pinVersions",
		// cspell:ignore automerge
		":automergeMinor",
		":automergeDigest",
		":prHourlyLimitNone",
		":prConcurrentLimitNone",
	],
	// ref: https://docs.renovatebot.com/modules/manager/regex/#advanced-capture
	customManagers: [
		{
			customType: "jsonata",
			description: "Updates mise versions in GitHub Actions",
			managerFilePatterns: [
				// ref: https://docs.renovatebot.com/modules/manager/github-actions/#file-matching
				// cspell:ignore gitea forgejo
				"/(^|/)(workflow-templates|\\.(?:github|gitea|forgejo)/(?:workflows|actions))/.+\\.ya?ml$/",
				"/(^|/)action\\.ya?ml$/",
			],
			fileFormat: "yaml",
			datasourceTemplate: "github-release-attachments",
			depNameTemplate: "mise",
			packageNameTemplate: "jdx/mise",
			matchStrings: [
				'$.jobs.*.steps[$substringBefore(uses, "@") = "jdx/mise-action"].with.{ "currentValue": version, "currentDigest": sha256 }',
			],
		},
	],
}
